<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Cardano Hub</title>
    <style>
        body { background: #050a18; color: #e2e8f0; font-family: sans-serif; text-align: center; padding: 20px; }
        .card { background: #111a2e; padding: 20px; border-radius: 15px; border: 1px solid #1e293b; margin: 15px auto; max-width: 400px; text-align: left; }
        .price { font-size: 2rem; font-weight: bold; color: #38bdf8; }
        .label { color: #94a3b8; font-size: 0.8rem; font-weight: bold; }
        .usd { color: #64748b; font-size: 0.9rem; }
    </style>
</head>
<body>

    <h2>Cardano Live Assets</h2>

    <div class="card">
        <div class="label">ORACLE / ADA (Minswap)</div>
        <div id="price-oracle" class="price">... ₳</div>
        <div id="usd-oracle" class="usd">Cargando...</div>
    </div>

    <div class="card">
        <div class="label">VLRM / ADA (VyFi)</div>
        <div id="price-vlrm" class="price">... ₳</div>
        <div id="usd-vlrm" class="usd">Cargando...</div>
    </div>

<script>
    // IDs de los pools específicos en Cardano (GeckoTerminal)
    const POOL_ORACLE = "cardano_minswap_be44e11400e2b4f2c5d6c8112316e6d7729114f85e4e69b5523a1a9e";
    const POOL_VLRM = "cardano_vyfi_566ad937203b1ca4eb04c35588373b9e4a323984534e69b5523a1a9f";

    async function getData() {
        try {
            // 1. Obtener ORACLE
            const resO = await fetch(`https://api.geckoterminal.com/api/v2/networks/cardano/pools/${POOL_ORACLE}`);
            const dataO = await resO.json();
            const oracleInAda = parseFloat(dataO.data.attributes.base_token_price_quote_token);
            const oracleInUsd = parseFloat(dataO.data.attributes.base_token_price_usd);
            
            document.getElementById('price-oracle').innerText = oracleInAda.toFixed(3) + " ₳";
            document.getElementById('usd-oracle').innerText = "$" + oracleInUsd.toFixed(4) + " USD";

            // 2. Obtener VLRM
            const resV = await fetch(`https://api.geckoterminal.com/api/v2/networks/cardano/pools/${POOL_VLRM}`);
            const dataV = await resV.json();
            const vlrmInAda = parseFloat(dataV.data.attributes.base_token_price_quote_token);
            const vlrmInUsd = parseFloat(dataV.data.attributes.base_token_price_usd);

            document.getElementById('price-vlrm').innerText = vlrmInAda.toFixed(3) + " ₳";
            document.getElementById('usd-vlrm').innerText = "$" + vlrmInUsd.toFixed(4) + " USD";

        } catch (e) {
            console.log("Error de conexión");
        }
    }

    getData();
    setInterval(getData, 30000);
</script>
</body>
</html>